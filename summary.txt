# Project Summary: Sha8alny (Freelancing Website)

## Overview
Sha8alny is a freelancing platform graduation project built using .NET 9 and adhering to Onion Architecture (Clean Architecture) principles.

## Tech Stack
- **Framework**: .NET 9
- **ORM**: Entity Framework Core 9.0.10
- **Database**: SQL Server
- **API**: ASP.NET Core Web API with OpenAPI/Swagger support

## Architecture: Onion Architecture
The solution is divided into layers to ensure separation of concerns and testability:

### 1. Core Layer (Inner Circle)
- **Sh8lny.Domain**: Contains pure business entities and enums. No dependencies on external frameworks.
  - *Key Entities*: User, Student, Company, Project, Application, Skill, University, Department, Message, Notification, Payment, etc.
- **Sh8lny.Abstraction**: Contains interfaces for the infrastructure layer.
  - *Key Interfaces*: `IGenericRepository<T>`, `IUnitOfWork`.
- **Sh8lny.Service**: Intended for business logic and service implementations.

### 2. Infrastructure Layer
- **Sh8lny.Persistence**: Implementation of data access.
  - *DbContext*: `Sha8lnyDbContext` using Fluent API for configurations.
  - *Repositories*: `GenericRepository<T>` implementation.
  - *Unit of Work*: `UnitOfWork` implementation managing transactions and repository instances.
- **Sh8lny.Presentation**: Shared presentation logic or cross-cutting concerns.

### 3. Web Layer (Entry Point)
- **Sh8lny.Web**: The ASP.NET Core Web API project.
  - *Program.cs*: Configures Dependency Injection (DI), Middleware, and Database connection.
  - *Controllers*: RESTful endpoints (e.g., `FreelancerController`).
  - *DTOs*: Data Transfer Objects for API requests/responses.

## Key Patterns Implemented
- **Generic Repository Pattern**: Provides a standardized way to perform CRUD operations across all entities.
- **Unit of Work Pattern**: Coordinates multiple repository operations in a single transaction, ensuring data integrity.
- **Dependency Injection**: Services and repositories are registered in `Program.cs` using `AddScoped`.
- **Separation of Concerns**: Domain logic is isolated from infrastructure details (EF Core).

## Main Entities & Relationships
- **User**: Base entity for authentication (Student, Company, University, Admin).
- **Project**: Represents a job or freelance opportunity posted by a Company.
- **Application**: Represents a Student's application to a Project.
- **Skills**: Managed via `Skill`, `StudentSkill`, and `ProjectRequiredSkill`.
- **Messaging**: `Conversation`, `Message`, and `ConversationParticipant`.

## Database Configuration
- Connection string is managed in `appsettings.json`.
- `Sha8lnyDbContext` applies configurations from the assembly using `modelBuilder.ApplyConfigurationsFromAssembly`.

## How to Run
1. Ensure SQL Server is running.
2. Update the connection string in `Sh8lny.Web/appsettings.json`.
3. Run `dotnet build` to verify the solution.
4. Run the `Sh8lny.Web` project.



Action plan:

Project Roadmap: Sha8alny (Freelancing Platform)

This document outlines the development phases for the backend implementation, organized by dependency order.

Legend:

(NM): Your Tasks

(TG/OF/AS): Team Members

ðŸ‘ˆ: Priority/Current Focus

Phase 1: The Foundation (Blockers)

These must be done first. Almost every other card depends on these.

1. Create Base DTOs & AutoMapper (TG)

Why: To avoid rewriting mapping logic for every single service and standardize API responses.

How: Set up AutoMapper in the Web layer. Create a BaseDto class (e.g., containing Id, CreatedAt) that all other DTOs inherit from.

2. Master Data APIs (Skills, Depts, Uni) (OF)

Why: Users cannot create a Student Profile without selecting a valid University or existing Skills.

How: These are simple "Lookup Tables." Create simple GET endpoints that return lists of Universities and Skills so the frontend can populate dropdown menus.

3. Implement Authentication Service (JWT) (AS)

Why: We cannot have "My Profile" or "My Applications" if the system doesn't know who the current user is.

How: Install System.IdentityModel.Tokens.Jwt. Create a Login endpoint that validates the user credentials and returns a "Bearer Token".

Phase 2: The Users (Your Priority)

Once Auth and Master Data are ready, we can build the user profiles.

4. Student Profile Service (Complex) (NM) ðŸ‘ˆ

Why: This is the core data for the "Freelancers."

How: This requires a Transactional Service.

Receive a composite JSON object (Bio + Education List + Skills List).

Save the Student entity.

Save the Education entities linked to the Student.

Link the Skills.

Wrap all operations in one UnitOfWork transaction.

5. Company Profile Service (OF)

Why: Companies need to exist to post jobs.

How: Similar to Student Profile but simpler data structure (Company Name, Logo, Description, Location).

6. Image Upload Helper (TG)

Why: Profiles and Projects need images.

How: Do not save images in the Database (BLOBs make SQL slow). Save them in a server folder (wwwroot/images) and save the file path (string) in the database.

Phase 3: The Marketplace (Jobs)

Now that we have Users, let them interact.

7. Opportunity CRUD (Projects) (OF)

Why: There is no website without jobs/projects.

How: Standard CRUD operations. A Company posts a project. Ensure validation checks that EndDate > StartDate.

8. Browse & Filter Opportunities (NM) ðŸ‘ˆ

Why: Students need to find relevant jobs efficiently.

How: This will be a high-traffic endpoint.

Use efficient filtering logic.

Tech Tip: Use the GenericRepository.FindAsync(predicate) method.

Logic: Where(p => p.Title.Contains(search) && p.SkillId == filterSkill)

9. Saved Opportunities (Bookmarks) (TG)

Why: "Save for later" feature for students.

How: A simple join table StudentSavedProjects (Many-to-Many relationship).

Phase 4: The Workflow (The "Meat" of the Project)

This is the complex business logic layer.

10. Apply Logic & Validation (OF)

How: * Check if the Student has the required skills.

Check if they have already applied.

If valid, create an Application record.

11. Application Review (Accept/Reject) (AS)

How: Company updates ApplicationStatus to Accepted. Trigger a notification event here.

12. Modules Management API (AS) & Track Progress API (NM) ðŸ‘ˆ

Why: The project uses "Milestones" (Modules) to track work.

How (NM): Create an endpoint UpdateProgress(int applicationId, int moduleId, int percent). When all modules reach 100%, mark the job as "Ready for Completion."

Phase 5: The Finish Line (Payment & Review)

13. Completion Logic (NM) ðŸ‘ˆ

How: * Verify all modules are marked as done.

Generate a final "Project Report" or summary.

Change the project status to Completed.

14. Payment Service Integration (AS)

How: Integrate Stripe, PayPal, or a mock service.

Security: Do not store credit card numbers! Only store the TransactionId returned by the payment provider.

15. Reviews System (Mutual) (OF)

How: After Completion is true, allow the Company to rate the Student (and vice versa).